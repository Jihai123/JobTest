<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è–ªèµ„å€¼å¾—åº¦è¯„ä¼°æŠ¥å‘Š - ä½ çš„å·¥ä½œçœŸå®ä»·å€¼åˆ†æ</title>
    <meta name="description" content="åŸºäºå¤šç»´åº¦åˆ†æçš„ä¸ªäººå·¥ä½œä»·å€¼è¯„ä¼°æŠ¥å‘Š">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #fce7f3 0%, #fdf2f8 50%, #fff1f2 100%);
        }
        .report-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        .score-poor { color: #dc2626; }
        .score-average { color: #f59e0b; }
        .score-good { color: #3b82f6; }
        .score-great { color: #22c55e; }
        .score-excellent { color: #8b5cf6; }
        .score-perfect { color: #eab308; }
        
        .emoji-large {
            font-size: 4rem;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));
        }
        
        .section-card {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border-radius: 16px;
            border: 1px solid #e2e8f0;
            transition: all 0.3s ease;
        }
        
        .section-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        .data-item {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }
        
        .highlight-value {
            background: linear-gradient(135deg, #dbeafe 0%, #e0e7ff 100%);
            border: 1px solid #3b82f6;
            border-radius: 8px;
            color: #1e40af;
            font-weight: 600;
        }
        
        .animate-fade-in {
            animation: fadeIn 0.8s ease-out forwards;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .stagger-1 { animation-delay: 0.1s; }
        .stagger-2 { animation-delay: 0.2s; }
        .stagger-3 { animation-delay: 0.3s; }
        .stagger-4 { animation-delay: 0.4s; }
        .stagger-5 { animation-delay: 0.5s; }
        .stagger-6 { animation-delay: 0.6s; }
        .stagger-7 { animation-delay: 0.7s; }
        .stagger-8 { animation-delay: 0.8s; }

        /* å·¥ä½œæ€§ä»·æ¯”è¯„ä¼°ä¸“ç”¨æ ·å¼ */
        .score-card {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border: 2px solid #cbd5e1;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            position: relative;
            overflow: hidden;
        }
        
        .score-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, #ef4444, #f59e0b, #eab308, #22c55e, #3b82f6, #8b5cf6);
        }
        
        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ffffff 0%, #f1f5f9 100%);
            border: 3px solid #e2e8f0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin: 0 auto 1rem;
        }
        
        .score-number {
            font-size: 2.5rem;
            font-weight: 800;
            line-height: 1;
            margin-bottom: 0.25rem;
        }
        
        .score-text {
            font-size: 0.875rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div class="max-w-2xl mx-auto px-4 py-8">
        <!-- æ ‡é¢˜åŒºåŸŸ -->
        <div class="text-center mb-8 animate-fade-in">
            <div id="emoji" class="emoji-large mb-4">ğŸ˜</div>
            <h1 class="text-3xl font-bold mb-2 text-gray-800">ä½ çš„å·¥ä½œæ€§ä»·æ¯”æŠ¥å‘Š</h1>
            <div class="inline-flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow-lg">
                <span id="scoreValue" class="text-2xl font-bold">--</span>
                <span id="scoreLabel" class="text-gray-600">--</span>
            </div>
        </div>

        <!-- ä¸»è¦è¯„ä¼°å¡ç‰‡ -->
        <div class="report-card p-8 mb-6 animate-fade-in stagger-1">
            <div class="grid grid-cols-2 gap-6 mb-6">
                <div class="text-center">
                    <div class="text-gray-600 text-sm mb-1">å¹´å·¥ä½œå¤©æ•°</div>
                    <div id="workDaysYear" class="text-2xl font-bold text-gray-800">--å¤©</div>
                </div>
                <div class="text-center">
                    <div class="text-gray-600 text-sm mb-1">å¹³å‡æ—¥è–ª</div>
                    <div id="avgDailySalary" class="text-2xl font-bold text-gray-800">--</div>
                </div>
            </div>
        </div>

        <!-- è¯¦ç»†åˆ†æ -->
        <div class="space-y-4">
            <!-- åŸºç¡€ä¿¡æ¯ -->
            <div class="section-card p-6 animate-fade-in stagger-2">
                <div class="flex items-center mb-4">
                    <span class="text-2xl mr-3">ğŸ’¼</span>
                    <h2 class="text-lg font-semibold text-gray-800">åŸºæœ¬æƒ…å†µ</h2>
                </div>
                <div class="grid grid-cols-2 gap-3">
                    <div class="data-item p-3">
                        <div class="text-xs text-gray-500">å·¥ä½œåœ°åŒº</div>
                        <div id="cityInfo" class="font-medium">--</div>
                    </div>
                    <div class="data-item p-3">
                        <div class="text-xs text-gray-500">æ˜¯å¦å®¶ä¹¡</div>
                        <div id="homeTownInfo" class="font-medium">--</div>
                    </div>
                    <div class="data-item p-3">
                        <div class="text-xs text-gray-500">å·¥ä½œå¹´é™</div>
                        <div id="workYearsInfo" class="font-medium">--</div>
                    </div>
                    <div class="data-item p-3">
                        <div class="text-xs text-gray-500">èŒä¸šç±»å‹</div>
                        <div id="jobStabilityInfo" class="font-medium">--</div>
                    </div>
                </div>
                <div id="basicAdvantages" class="mt-4 p-3 bg-green-50 rounded-lg border border-green-200">
                    <p class="text-sm text-green-800">
                        <span class="font-semibold">âœ“ ä¼˜åŠ¿ï¼š</span>
                        <span id="basicAdvantagesText">æ­£åœ¨åˆ†æ...</span>
                    </p>
                </div>
            </div>

            <!-- å·¥ä½œæ—¶é—´åˆ†æ -->
            <div class="section-card p-6 animate-fade-in stagger-3">
                <div class="flex items-center mb-4">
                    <span class="text-2xl mr-3">â±ï¸</span>
                    <h2 class="text-lg font-semibold text-gray-800">å·¥ä½œæ—¶é—´</h2>
                </div>
                <div class="grid grid-cols-2 gap-3 mb-4">
                    <div class="data-item p-3">
                        <div class="text-xs text-gray-500">æ¯æ—¥å·¥æ—¶</div>
                        <div id="workHoursInfo" class="font-medium">-- å°æ—¶</div>
                    </div>
                    <div class="data-item p-3">
                        <div class="text-xs text-gray-500">é€šå‹¤æ—¶é—´</div>
                        <div id="commuteHoursInfo" class="font-medium">-- å°æ—¶</div>
                    </div>
                    <div class="data-item p-3">
                        <div class="text-xs text-gray-500">ä¼‘æ¯æ‘¸é±¼</div>
                        <div id="restTimeInfo" class="font-medium">-- å°æ—¶</div>
                    </div>
                    <div class="data-item p-3">
                        <div class="text-xs text-gray-500">è¿œç¨‹åŠå…¬</div>
                        <div id="wfhInfo" class="font-medium">--/-- å¤©</div>
                    </div>
                </div>
                <div class="grid grid-cols-3 gap-3 mb-4">
                    <div class="data-item p-3 text-center">
                        <div class="text-xs text-gray-500">å¹´å‡</div>
                        <div id="annualLeaveInfo" class="font-medium">--å¤©</div>
                    </div>
                    <div class="data-item p-3 text-center">
                        <div class="text-xs text-gray-500">ç—…å‡</div>
                        <div id="paidSickLeaveInfo" class="font-medium">--å¤©</div>
                    </div>
                    <div class="data-item p-3 text-center">
                        <div class="text-xs text-gray-500">æ³•å®šå‡æ—¥</div>
                        <div id="publicHolidaysInfo" class="font-medium">--å¤©</div>
                    </div>
                </div>
                <div id="timeAnalysis" class="p-3 bg-yellow-50 rounded-lg border border-yellow-200">
                    <p class="text-sm text-yellow-800">
                        <span class="font-semibold">âš  æ³¨æ„ï¼š</span>
                        <span id="timeAnalysisText">æ­£åœ¨åˆ†æå·¥ä½œæ—¶é—´é…ç½®...</span>
                    </p>
                </div>
            </div>

            <!-- å·¥ä½œç¯å¢ƒ -->
            <div class="section-card p-6 animate-fade-in stagger-4">
                <div class="flex items-center mb-4">
                    <span class="text-2xl mr-3">ğŸ¢</span>
                    <h2 class="text-lg font-semibold text-gray-800">å·¥ä½œç¯å¢ƒ</h2>
                </div>
                <div class="grid grid-cols-2 gap-3 mb-4">
                    <div class="data-item p-3">
                        <div class="text-xs text-gray-500">åŠå…¬ç¯å¢ƒ</div>
                        <div id="workEnvironmentInfo" class="font-medium">--</div>
                    </div>
                    <div class="data-item p-3">
                        <div class="text-xs text-gray-500">é¢†å¯¼å…³ç³»</div>
                        <div id="leadershipInfo" class="font-medium">--</div>
                    </div>
                    <div class="data-item p-3">
                        <div class="text-xs text-gray-500">åŒäº‹å…³ç³»</div>
                        <div id="teamworkInfo" class="font-medium">--</div>
                    </div>
                    <div class="data-item p-3">
                        <div class="text-xs text-gray-500">ç­è½¦æœåŠ¡</div>
                        <div id="shuttleInfo" class="font-medium">--</div>
                    </div>
                </div>
                <div class="data-item p-3 mb-4">
                    <div class="text-xs text-gray-500">é£Ÿå ‚æƒ…å†µ</div>
                    <div id="canteenInfo" class="font-medium">--</div>
                </div>
                <div id="environmentAnalysis" class="p-3 bg-blue-50 rounded-lg border border-blue-200">
                    <p class="text-sm text-blue-800">
                        <span class="font-semibold">ğŸ’¡ åˆ†æï¼š</span>
                        <span id="environmentAnalysisText">æ­£åœ¨åˆ†æå·¥ä½œç¯å¢ƒ...</span>
                    </p>
                </div>
            </div>

            <!-- æ•™è‚²èƒŒæ™¯ -->
            <div class="section-card p-6 animate-fade-in stagger-5">
                <div class="flex items-center mb-4">
                    <span class="text-2xl mr-3">ğŸ“š</span>
                    <h2 class="text-lg font-semibold text-gray-800">æ•™è‚²ä¸å·¥ä½œç»éªŒ</h2>
                </div>
                <div class="grid grid-cols-2 gap-3 mb-4">
                    <div class="data-item p-3">
                        <div class="text-xs text-gray-500">æœ€é«˜å­¦å†</div>
                        <div id="degreeTypeInfo" class="font-medium">--</div>
                    </div>
                    <div class="data-item p-3">
                        <div class="text-xs text-gray-500">å­¦æ ¡ç±»å‹</div>
                        <div id="schoolTypeInfo" class="font-medium">--</div>
                    </div>
                    <div class="data-item p-3">
                        <div class="text-xs text-gray-500">å·¥ä½œå¹´é™</div>
                        <div id="workYearsInfo2" class="font-medium">--</div>
                    </div>
                    <div class="data-item p-3">
                        <div class="text-xs text-gray-500">å·¥ä½œæ€§è´¨</div>
                        <div id="jobStabilityInfo2" class="font-medium">--</div>
                    </div>
                </div>
                <div id="educationAnalysis" class="p-3 bg-purple-50 rounded-lg border border-purple-200">
                    <p class="text-sm text-purple-800">
                        <span class="font-semibold">ğŸ“ è¯„ä»·ï¼š</span>
                        <span id="educationAnalysisText">æ­£åœ¨åˆ†ææ•™è‚²èƒŒæ™¯...</span>
                    </p>
                </div>
            </div>

            <!-- è–ªèµ„åˆ†æ -->
            <div class="section-card p-6 animate-fade-in stagger-6">
                <div class="flex items-center mb-4">
                    <span class="text-2xl mr-3">ğŸ’°</span>
                    <h2 class="text-lg font-semibold text-gray-800">è–ªèµ„å¾…é‡</h2>
                </div>
                <div class="grid grid-cols-2 gap-3 mb-4">
                    <div class="data-item p-3">
                        <div class="text-xs text-gray-500">å¹³å‡æ—¥è–ª</div>
                        <div id="dailySalaryInfo" class="font-medium">--/å¤©</div>
                    </div>
                    <div class="data-item p-3">
                        <div class="text-xs text-gray-500">å¹´å·¥ä½œå¤©æ•°</div>
                        <div id="workDaysInfo" class="font-medium">--å¤©</div>
                    </div>
                </div>
                <div id="salaryAnalysis" class="p-3 bg-orange-50 rounded-lg border border-orange-200">
                    <p class="text-sm text-orange-800">
                        <span class="font-semibold">ğŸ’¡ åˆ†æï¼š</span>
                        <span id="salaryAnalysisText">æ­£åœ¨åˆ†æè–ªèµ„æ°´å¹³...</span>
                    </p>
                </div>
            </div>

            <!-- å·¥ä½œæ€§ä»·æ¯”è¯„ä¼° - ç§»åˆ°ä¸‹é¢å¹¶ä½¿ç”¨ç‰¹æ®Šæ ·å¼ -->
            <div class="score-card p-8 animate-fade-in stagger-7">
                <div class="text-center mb-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">ğŸ¯ å·¥ä½œæ€§ä»·æ¯”è¯„ä¼°</h2>
                    
                    <div class="score-circle">
                        <div id="finalScoreNumber" class="score-number">--</div>
                        <div id="finalScoreText" class="score-text">--</div>
                    </div>
                    
                    <div class="text-lg text-gray-600 mb-6">
                        ç»¼åˆè¯„ä¼°ç»“æœ
                    </div>
                </div>
                
                <div class="space-y-4">
                    <div id="scoreProblems" class="p-4 bg-red-50 rounded-lg border border-red-200">
                        <p class="text-sm text-red-800">
                            <span class="font-semibold">ğŸ“‰ ä¸»è¦é—®é¢˜ï¼š</span>
                            <span id="scoreProblemsText">æ­£åœ¨åˆ†æä¸»è¦é—®é¢˜...</span>
                        </p>
                    </div>
                    <div id="scoreImprovements" class="p-4 bg-yellow-50 rounded-lg border border-yellow-200">
                        <p class="text-sm text-yellow-800">
                            <span class="font-semibold">ğŸ’¡ æ”¹å–„å»ºè®®ï¼š</span>
                            <span id="scoreImprovementsText">æ­£åœ¨ç”Ÿæˆæ”¹å–„å»ºè®®...</span>
                        </p>
                    </div>
                    <div id="scoreAdvantages" class="p-4 bg-green-50 rounded-lg border border-green-200">
                        <p class="text-sm text-green-800">
                            <span class="font-semibold">ğŸŒŸ ç§¯æå› ç´ ï¼š</span>
                            <span id="scoreAdvantagesText">æ­£åœ¨åˆ†æç§¯æå› ç´ ...</span>
                        </p>
                    </div>
                </div>
            </div>

            <!-- ä¸ªæ€§åŒ–å»ºè®® -->
            <div class="section-card p-6 animate-fade-in stagger-8">
                <div class="flex items-center mb-4">
                    <span class="text-2xl mr-3">ğŸ¯</span>
                    <h2 class="text-lg font-semibold text-gray-800">ä¸ªæ€§åŒ–å»ºè®®</h2>
                </div>
                <div class="space-y-4">
                    <div class="border-l-4 border-blue-400 pl-4">
                        <h3 class="font-semibold text-gray-800 mb-2">çŸ­æœŸç›®æ ‡ï¼ˆ6ä¸ªæœˆå†…ï¼‰</h3>
                        <ul id="shortTermGoals" class="text-sm text-gray-600 space-y-1">
                            <li>â€¢ æ­£åœ¨ç”Ÿæˆä¸ªæ€§åŒ–å»ºè®®...</li>
                        </ul>
                    </div>
                    <div class="border-l-4 border-green-400 pl-4">
                        <h3 class="font-semibold text-gray-800 mb-2">ä¸­æœŸè§„åˆ’ï¼ˆ1-2å¹´ï¼‰</h3>
                        <ul id="mediumTermGoals" class="text-sm text-gray-600 space-y-1">
                            <li>â€¢ æ­£åœ¨ç”Ÿæˆä¸ªæ€§åŒ–å»ºè®®...</li>
                        </ul>
                    </div>
                    <div class="border-l-4 border-purple-400 pl-4">
                        <h3 class="font-semibold text-gray-800 mb-2">é•¿æœŸæ„¿æ™¯ï¼ˆ3-5å¹´ï¼‰</h3>
                        <ul id="longTermGoals" class="text-sm text-gray-600 space-y-1">
                            <li>â€¢ æ­£åœ¨ç”Ÿæˆä¸ªæ€§åŒ–å»ºè®®...</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- é¡µè„š -->
        <div class="text-center mt-8 animate-fade-in stagger-8">
            <div class="bg-white rounded-lg p-4 shadow-lg mb-4">
                <p class="text-sm text-gray-600 mb-2">åŸºäºå¤šç»´åº¦åˆ†æå®šåˆ¶</p>
                <p class="text-xs text-gray-500">chatgpt5x.com</p>
            </div>
            
            <div class="flex justify-center gap-4">
                <button onclick="downloadReport()" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg shadow-lg transition-colors flex items-center gap-2">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                    ä¸‹è½½æŠ¥å‘Š
                </button>
                
                <button onclick="shareReport()" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg shadow-lg transition-colors flex items-center gap-2">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"></path>
                    </svg>
                    åˆ†äº«æŠ¥å‘Š
                </button>
                
                <button onclick="window.history.back()" class="bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg shadow-lg transition-colors flex items-center gap-2">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 17l-5-5m0 0l5-5m-5 5h12"></path>
                    </svg>
                    è¿”å›å·¥å…·
                </button>
            </div>
        </div>
    </div>

    <script>
        // è§£æURLå‚æ•°
        function getUrlParams() {
            const params = new URLSearchParams(window.location.search);
            return {
                value: params.get('value') || '2.5',
                assessment: params.get('assessment') || 'rating_good',
                dailySalary: params.get('dailySalary') || '1000',
                workDaysPerYear: params.get('workDaysPerYear') || '250',
                currencySymbol: params.get('currencySymbol') || 'Â¥',
                cityFactor: params.get('cityFactor') || '0.70',
                workHours: params.get('workHours') || '8',
                commuteHours: params.get('commuteHours') || '2',
                restTime: params.get('restTime') || '2',
                workDaysPerWeek: params.get('workDaysPerWeek') || '5',
                wfhDaysPerWeek: params.get('wfhDaysPerWeek') || '0',
                annualLeave: params.get('annualLeave') || '5',
                paidSickLeave: params.get('paidSickLeave') || '3',
                publicHolidays: params.get('publicHolidays') || '13',
                workEnvironment: params.get('workEnvironment') || '1.0',
                leadership: params.get('leadership') || '1.0',
                teamwork: params.get('teamwork') || '1.0',
                degreeType: params.get('degreeType') || 'bachelor',
                schoolType: params.get('schoolType') || 'firstTier',
                education: params.get('education') || '1.0',
                homeTown: params.get('homeTown') || 'no',
                shuttle: params.get('shuttle') || '1.0',
                canteen: params.get('canteen') || '1.0',
                workYears: params.get('workYears') || '0',
                jobStability: params.get('jobStability') || 'private',
                countryCode: params.get('countryCode') || 'CN',
                countryName: params.get('countryName') || 'ä¸­å›½',
                hasShuttle: params.get('hasShuttle') === 'true',
                hasCanteen: params.get('hasCanteen') === 'true'
            };
        }

        // æ˜ å°„å‡½æ•°
        function getCityText(factor) {
            const f = parseFloat(factor);
            if (f <= 0.70) return 'ä¸€çº¿åŸå¸‚';
            if (f <= 0.80) return 'æ–°ä¸€çº¿åŸå¸‚';
            if (f <= 1.0) return 'äºŒçº¿åŸå¸‚';
            if (f <= 1.10) return 'ä¸‰çº¿åŸå¸‚';
            if (f <= 1.25) return 'å››çº¿åŸå¸‚';
            if (f <= 1.40) return 'å¿åŸ';
            return 'ä¹¡é•‡';
        }

        function getWorkEnvironmentText(env) {
            const e = parseFloat(env);
            if (e <= 0.8) return 'ååƒ»çš„å·¥å‚/å·¥åœ°/æˆ·å¤–';
            if (e <= 0.9) return 'å·¥å‚/å·¥åœ°/æˆ·å¤–';
            if (e <= 1.0) return 'æ™®é€šç¯å¢ƒ';
            return 'CBD';
        }

        function getLeadershipText(rating) {
            const r = parseFloat(rating);
            if (r <= 0.7) return 'å¯¹æˆ‘ä¸çˆ½';
            if (r <= 0.9) return 'ç®¡ç†ä¸¥æ ¼';
            if (r <= 1.0) return 'ä¸­è§„ä¸­çŸ©';
            if (r <= 1.1) return 'å–„è§£äººæ„';
            return 'æˆ‘æ˜¯å«¡ç³»';
        }

        function getTeamworkText(rating) {
            const r = parseFloat(rating);
            if (r <= 0.9) return 'éƒ½æ˜¯å‚»é€¼';
            if (r <= 1.0) return 'èæ°´ç›¸é€¢';
            if (r <= 1.1) return 'å’Œå’Œç¦ç¦';
            return 'ç§äº¤ç”šå¥½';
        }

        function getShuttleText(shuttle, hasShuttle) {
            if (!hasShuttle) return 'æ— ç­è½¦';
            const s = parseFloat(shuttle);
            if (s >= 1.0) return 'æ— ç­è½¦';
            if (s >= 0.9) return 'ç­è½¦ä¸ä¾¿';
            if (s >= 0.7) return 'ç­è½¦ä¾¿åˆ©';
            return 'ç›´è¾¾ç­è½¦';
        }

        function getCanteenText(canteen, hasCanteen) {
            if (!hasCanteen) return 'æ— é£Ÿå ‚';
            const c = parseFloat(canteen);
            if (c <= 1.0) return 'æ— é£Ÿå ‚';
            if (c <= 1.05) return 'ä¸€èˆ¬é£Ÿå ‚';
            if (c <= 1.1) return 'ä¸é”™çš„é£Ÿå ‚';
            return 'å¾ˆæ£’çš„é£Ÿå ‚';
        }

        function getDegreeText(type) {
            const map = {
                'belowBachelor': 'ä¸“ç§‘åŠä»¥ä¸‹',
                'bachelor': 'æœ¬ç§‘',
                'masters': 'ç¡•å£«',
                'phd': 'åšå£«'
            };
            return map[type] || 'æœ¬ç§‘';
        }

        function getSchoolText(type) {
            const map = {
                'secondTier': 'äºŒæœ¬ä¸‰æœ¬',
                'firstTier': 'åŒé/QS200/USnews80',
                'elite': '985211/QS50/USnews30'
            };
            return map[type] || 'åŒé';
        }

        function getWorkYearsText(years) {
            const map = {
                '0': 'åº”å±Šç”Ÿ',
                '1': '1-3å¹´',
                '3': '3-5å¹´',
                '5': '5-8å¹´',
                '8': '8-10å¹´',
                '10': '10-12å¹´',
                '12': '12å¹´ä»¥ä¸Š'
            };
            return map[years] || 'åº”å±Šç”Ÿ';
        }

        function getJobStabilityText(type) {
            const map = {
                'government': 'æ”¿åºœ/äº‹ä¸šå•ä½',
                'state': 'å¤®/å›½ä¼',
                'foreign': 'å¤–ä¼',
                'private': 'ç§ä¼',
                'dispatch': 'æ´¾é£ç¤¾å‘˜',
                'freelance': 'è‡ªç”±èŒä¸š'
            };
            return map[type] || 'ç§ä¼';
        }

        function getScoreClass(value) {
            const v = parseFloat(value);
            if (v < 0.6) return 'score-poor';
            if (v < 1.0) return 'score-poor';
            if (v <= 1.8) return 'score-average';
            if (v <= 2.5) return 'score-good';
            if (v <= 3.2) return 'score-great';
            if (v <= 4.0) return 'score-excellent';
            return 'score-perfect';
        }

        function getEmoji(value) {
            const v = parseFloat(value);
            if (v < 0.6) return 'ğŸ˜­';
            if (v < 1.0) return 'ğŸ˜”';
            if (v <= 1.8) return 'ğŸ˜';
            if (v <= 2.5) return 'ğŸ˜Š';
            if (v <= 3.2) return 'ğŸ˜';
            if (v <= 4.0) return 'ğŸ¤©';
            return 'ğŸ‰';
        }

        function getAssessmentText(assessment) {
            const map = {
                'rating_terrible': 'ç³Ÿç³•é€äº†',
                'rating_poor': 'è¾ƒå·®',
                'rating_average': 'ä¸€èˆ¬',
                'rating_good': 'è‰¯å¥½',
                'rating_great': 'å¾ˆå¥½',
                'rating_excellent': 'ä¼˜ç§€',
                'rating_perfect': 'å®Œç¾'
            };
            return map[assessment] || 'ä¸€èˆ¬';
        }

        // ç”Ÿæˆåˆ†ææ–‡æœ¬
        function generateAnalysisTexts(params) {
            const score = parseFloat(params.value);
            const workYears = parseInt(params.workYears);
            const isHomeTown = params.homeTown === 'yes';
            const hasShuttle = params.hasShuttle;
            const hasCanteen = params.hasCanteen;
            
            // åŸºæœ¬ä¼˜åŠ¿åˆ†æ
            let advantages = [];
            if (isHomeTown) advantages.push('åœ¨å®¶ä¹¡å·¥ä½œï¼Œäº«æœ‰å®¶åº­æ”¯æŒå’Œè¾ƒä½ç”Ÿæ´»æˆæœ¬');
            if (hasShuttle) advantages.push('ç­è½¦æœåŠ¡å‡è½»é€šå‹¤è´Ÿæ‹…');
            if (hasCanteen) advantages.push('é£Ÿå ‚æœåŠ¡æå‡å·¥ä½œä¾¿åˆ©æ€§');
            if (workYears >= 5) advantages.push('ä¸°å¯Œçš„å·¥ä½œç»éªŒä¸ºèŒä¸šå‘å±•å¥ å®šåŸºç¡€');
            if (params.jobStability === 'government' || params.jobStability === 'state') {
                advantages.push('å·¥ä½œç¨³å®šæ€§è¾ƒå¥½ï¼Œç¦åˆ©ä¿éšœå®Œå–„');
            }
            
            // æ—¶é—´åˆ†æ
            const totalTime = parseFloat(params.workHours) + parseFloat(params.commuteHours);
            let timeAnalysis = '';
            if (totalTime >= 12) {
                timeAnalysis = 'æ¯æ—¥æ€»æŠ•å…¥æ—¶é—´è¾ƒé•¿ï¼Œå·¥ä½œå¼ºåº¦åé«˜ï¼Œå»ºè®®å…³æ³¨å·¥ä½œç”Ÿæ´»å¹³è¡¡';
            } else if (totalTime >= 10) {
                timeAnalysis = 'å·¥ä½œæ—¶é—´é€‚ä¸­ä½†ä»æœ‰ä¼˜åŒ–ç©ºé—´ï¼Œå¯ä»¥è€ƒè™‘æé«˜å·¥ä½œæ•ˆç‡';
            } else {
                timeAnalysis = 'å·¥ä½œæ—¶é—´å®‰æ’åˆç†ï¼Œæœ‰è¾ƒå¥½çš„å·¥ä½œç”Ÿæ´»å¹³è¡¡';
            }
            
            // ç¯å¢ƒåˆ†æ
            let envAnalysis = 'å·¥ä½œç¯å¢ƒæ•´ä½“';
            if (parseFloat(params.workEnvironment) >= 1.1) envAnalysis += 'ä¼˜ç§€';
            else if (parseFloat(params.workEnvironment) >= 1.0) envAnalysis += 'ä¸­ç­‰';
            else envAnalysis += 'ä¸€èˆ¬';
            
            if (hasShuttle) envAnalysis += 'ï¼Œç­è½¦æœåŠ¡ä¾¿åˆ©';
            if (hasCanteen) envAnalysis += 'ï¼Œé£Ÿå ‚è´¨é‡ä¸é”™';
            envAnalysis += 'ã€‚äººé™…å…³ç³»' + (parseFloat(params.teamwork) >= 1.1 ? 'èæ´½' : 'å¹³å’Œ');
            
            // æ•™è‚²åˆ†æ
            const degreeText = getDegreeText(params.degreeType);
            const schoolText = getSchoolText(params.schoolType);
            let eduAnalysis = `${degreeText}å­¦å†`;
            if (params.schoolType === 'elite') eduAnalysis += 'ä¸”æ¯•ä¸šäºåæ ¡ï¼Œ';
            else eduAnalysis += 'ï¼Œ';
            eduAnalysis += `${workYears}å¹´å·¥ä½œç»éªŒ`;
            if (workYears >= 8) eduAnalysis += 'ä½¿ä½ æˆä¸ºè¡Œä¸šèµ„æ·±äººå£«';
            else if (workYears >= 3) eduAnalysis += 'ä¸ºèŒä¸šå‘å±•æä¾›è‰¯å¥½åŸºç¡€';
            else eduAnalysis += 'æ­£å¤„äºå¿«é€Ÿæˆé•¿æœŸ';
            
            // è–ªèµ„åˆ†æ
            let salaryAnalysis = '';
            if (score < 1.5) {
                salaryAnalysis = 'å½“å‰è–ªèµ„æ°´å¹³å¯èƒ½æœªå……åˆ†ä½“ç°ä¸ªäººä»·å€¼ï¼Œå»ºè®®è¯„ä¼°æ˜¯å¦æœ‰æ™‹å‡æˆ–è½¬å²—æœºä¼š';
            } else if (score < 2.5) {
                salaryAnalysis = 'è–ªèµ„æ°´å¹³åŸºæœ¬åˆç†ï¼Œä½†ä»æœ‰æå‡ç©ºé—´ï¼Œå¯å…³æ³¨æŠ€èƒ½æå‡å’ŒèŒä¸šå‘å±•';
            } else {
                salaryAnalysis = 'è–ªèµ„æ°´å¹³è¾ƒä¸ºæ»¡æ„ï¼Œä¸ä¸ªäººèƒ½åŠ›å’Œå¸‚åœºæ°´å¹³åŸºæœ¬åŒ¹é…';
            }
            
            // ç»¼åˆè¯„ä¼°é—®é¢˜ã€å»ºè®®ã€ä¼˜åŠ¿
            let problems = '', improvements = '', scoreAdvantages = '';
            
            if (score < 1.0) {
                problems = 'å·¥ä½œæ€§ä»·æ¯”åä½ï¼Œå¯èƒ½å­˜åœ¨å·¥ä½œæ—¶é•¿è¿‡é•¿ã€è–ªèµ„åä½æˆ–å·¥ä½œç¯å¢ƒä¸ä½³ç­‰é—®é¢˜';
                improvements = '1) é‡æ–°è¯„ä¼°èŒä¸šè§„åˆ’ï¼›2) è€ƒè™‘è·³æ§½åˆ°æ›´æœ‰ç«äº‰åŠ›çš„ä¼ä¸šï¼›3) ä¸é›‡ä¸»åå•†æ”¹å–„å·¥ä½œæ¡ä»¶ï¼›4) æå‡æŠ€èƒ½æŠ•èµ„ä¸ªäººä»·å€¼';
            } else if (score < 2.0) {
                problems = 'å·¥ä½œæ€§ä»·æ¯”æœ‰å¾…æå‡ï¼Œä¸»è¦ä½“ç°åœ¨æŠ•å…¥äº§å‡ºæ¯”ä¸å¤Ÿç†æƒ³';
                improvements = '1) ç”³è¯·å†…éƒ¨è°ƒå²—æˆ–æ™‹å‡ï¼›2) è¯„ä¼°å¤–éƒ¨æœºä¼šï¼›3) æå‡å·¥ä½œæ•ˆç‡ï¼›4) å¯»æ±‚æŠ€èƒ½åŸ¹è®­æœºä¼š';
            } else if (score < 3.0) {
                problems = 'å·¥ä½œæ€§ä»·æ¯”è‰¯å¥½ä½†ä»æœ‰ä¼˜åŒ–ç©ºé—´';
                improvements = '1) äº‰å–æ›´å¥½çš„ç¦åˆ©å¾…é‡ï¼›2) å¯»æ‰¾èŒä¸šå‘å±•æœºä¼šï¼›3) å»ºç«‹æ›´å¹¿æ³›çš„äººè„‰ç½‘ç»œï¼›4) è€ƒè™‘å‰¯ä¸šå‘å±•';
            } else {
                problems = 'å·¥ä½œæ€§ä»·æ¯”å¾ˆå¥½ï¼Œæ•´ä½“è¡¨ç°ä¼˜ç§€';
                improvements = '1) ä¿æŒå½“å‰çŠ¶æ€ï¼›2) ä¸ºé•¿è¿œå‘å±•åšè§„åˆ’ï¼›3) è€ƒè™‘å¸®åŠ©ä»–äººåˆ†äº«ç»éªŒï¼›4) æ¢ç´¢æ›´é«˜å±‚æ¬¡çš„èŒä¸šç›®æ ‡';
            }
            
            scoreAdvantages = advantages.length > 0 ? advantages.join('ï¼Œ') + 'ï¼Œè¿™äº›éƒ½æ˜¯å¾ˆå¥½çš„åŸºç¡€' : 'å…·å¤‡åŸºæœ¬çš„èŒä¸šå‘å±•æ¡ä»¶';
            
            return {
                basicAdvantages: advantages.join('ï¼Œ') || 'æ­£åœ¨åŠªåŠ›å·¥ä½œä¸­',
                timeAnalysis,
                envAnalysis,
                eduAnalysis,
                salaryAnalysis,
                problems,
                improvements,
                scoreAdvantages
            };
        }

        // ç”Ÿæˆä¸ªæ€§åŒ–å»ºè®®
        function generatePersonalizedSuggestions(params) {
            const score = parseFloat(params.value);
            const workYears = parseInt(params.workYears);
            const jobType = params.jobStability;
            
            let shortTerm = [], mediumTerm = [], longTerm = [];
            
            // æ ¹æ®åˆ†æ•°å’Œæƒ…å†µç”Ÿæˆå»ºè®®
            if (score < 1.5) {
                shortTerm = [
                    'â€¢ ç«‹å³è¯„ä¼°å½“å‰å·¥ä½œçš„æ ¸å¿ƒé—®é¢˜',
                    'â€¢ æ›´æ–°ç®€å†å¹¶äº†è§£å¸‚åœºè–ªèµ„æ°´å¹³',
                    'â€¢ ä¸»åŠ¨ä¸ä¸Šçº§æ²Ÿé€šèŒä¸šå‘å±•éœ€æ±‚'
                ];
                mediumTerm = [
                    'â€¢ è€ƒè™‘è·³æ§½åˆ°æ›´æœ‰ç«äº‰åŠ›çš„ä¼ä¸š',
                    'â€¢ æå‡æ ¸å¿ƒæŠ€èƒ½å’Œä¸“ä¸šè®¤è¯',
                    'â€¢ å»ºç«‹è¡Œä¸šäººè„‰ç½‘ç»œ'
                ];
                longTerm = [
                    'â€¢ åˆ¶å®š5å¹´èŒä¸šå‘å±•è§„åˆ’',
                    'â€¢ è€ƒè™‘è½¬è¡Œåˆ°æ›´æœ‰å‰æ™¯çš„é¢†åŸŸ',
                    'â€¢ å»ºç«‹ä¸ªäººå“ç‰Œå’Œå½±å“åŠ›'
                ];
            } else if (score < 2.5) {
                shortTerm = [
                    'â€¢ ç”³è¯·å‚ä¸æ›´æœ‰æŒ‘æˆ˜æ€§çš„é¡¹ç›®',
                    'â€¢ äº†è§£å†…éƒ¨æ™‹å‡æœºä¼šå’Œè¦æ±‚',
                    'â€¢ æå‡å·¥ä½œæ•ˆç‡å’Œæ—¶é—´ç®¡ç†'
                ];
                mediumTerm = [
                    'â€¢ è€ƒè™‘è€ƒå–ç›¸å…³ä¸“ä¸šè®¤è¯',
                    'â€¢ è¯„ä¼°å¤–éƒ¨æœºä¼šï¼Œäº†è§£å¸‚åœºæ°´å¹³',
                    'â€¢ å‘å±•è·¨éƒ¨é—¨åˆä½œå…³ç³»'
                ];
                longTerm = [
                    'â€¢ ç„å‡†ç®¡ç†å²—ä½æˆ–ä¸“å®¶è·¯çº¿',
                    'â€¢ è€ƒè™‘è¡Œä¸šå†…çš„æ¨ªå‘å‘å±•',
                    'â€¢ å»ºç«‹ä¸ªäººä¸“ä¸šå½±å“åŠ›'
                ];
            } else {
                shortTerm = [
                    'â€¢ ä¿æŒå½“å‰ä¼˜åŠ¿ç»§ç»­å‘å±•',
                    'â€¢ å¯»æ‰¾æ–°çš„æŒ‘æˆ˜å’Œæˆé•¿æœºä¼š',
                    'â€¢ å¸®åŠ©å›¢é˜Ÿæˆå‘˜å…±åŒæå‡'
                ];
                mediumTerm = [
                    'â€¢ è€ƒè™‘æ‰¿æ‹…æ›´å¤§è´£ä»»',
                    'â€¢ å‘å±•é¢†å¯¼å’Œç®¡ç†èƒ½åŠ›',
                    'â€¢ å»ºç«‹æ›´å¹¿æ³›çš„è¡Œä¸šå½±å“'
                ];
                longTerm = [
                    'â€¢ æˆä¸ºè¡Œä¸šä¸“å®¶æˆ–ç®¡ç†è€…',
                    'â€¢ è€ƒè™‘åˆ›ä¸šæˆ–å’¨è¯¢å‘å±•',
                    'â€¢ å®ç°å·¥ä½œä¸ç”Ÿæ´»çš„å®Œç¾å¹³è¡¡'
                ];
            }
            
            // æ ¹æ®å·¥ä½œå¹´é™è°ƒæ•´å»ºè®®
            if (workYears === 0) {
                shortTerm[0] = 'â€¢ å¿«é€Ÿé€‚åº”å·¥ä½œç¯å¢ƒå’Œå›¢é˜Ÿæ–‡åŒ–';
                mediumTerm[0] = 'â€¢ åœ¨å‰2å¹´å†…å»ºç«‹ä¸“ä¸šåŸºç¡€';
            } else if (workYears >= 10) {
                longTerm.push('â€¢ è€ƒè™‘ä¼ æ‰¿ç»éªŒï¼ŒæŒ‡å¯¼åè¾ˆå‘å±•');
            }
            
            return { shortTerm, mediumTerm, longTerm };
        }

        // æ›´æ–°é¡µé¢å†…å®¹
        function updatePageContent(params) {
            const score = parseFloat(params.value);
            const assessmentText = getAssessmentText(params.assessment);
            const emoji = getEmoji(score);
            const scoreClass = getScoreClass(score);
            
            // æ›´æ–°ä¸»è¦åˆ†æ•°æ˜¾ç¤º
            document.getElementById('scoreValue').textContent = params.value;
            document.getElementById('scoreValue').className = `text-2xl font-bold ${scoreClass}`;
            document.getElementById('scoreLabel').textContent = assessmentText;
            document.getElementById('emoji').textContent = emoji;
            
            // æ›´æ–°å¹´å·¥ä½œå¤©æ•°å’Œæ—¥è–ª
            document.getElementById('workDaysYear').textContent = Math.round(parseFloat(params.workDaysPerYear)) + 'å¤©';
            document.getElementById('avgDailySalary').textContent = params.currencySymbol + Math.round(parseFloat(params.dailySalary));
            
            // æ›´æ–°åŸºæœ¬ä¿¡æ¯
            document.getElementById('cityInfo').textContent = `${getCityText(params.cityFactor)} (${params.countryName})`;
            document.getElementById('homeTownInfo').innerHTML = params.homeTown === 'yes' ? 
                '<span class="text-green-600">âœ“ åœ¨å®¶ä¹¡å·¥ä½œ</span>' : '<span class="text-orange-600">âœ— ä¸åœ¨å®¶ä¹¡</span>';
            document.getElementById('workYearsInfo').textContent = getWorkYearsText(params.workYears);
            document.getElementById('jobStabilityInfo').textContent = getJobStabilityText(params.jobStability);
            
            // æ›´æ–°å·¥ä½œæ—¶é—´ä¿¡æ¯
            document.getElementById('workHoursInfo').textContent = params.workHours + ' å°æ—¶';
            document.getElementById('commuteHoursInfo').textContent = params.commuteHours + ' å°æ—¶';
            document.getElementById('restTimeInfo').textContent = params.restTime + ' å°æ—¶';
            document.getElementById('wfhInfo').textContent = `${params.wfhDaysPerWeek}/${params.workDaysPerWeek} å¤©`;
            document.getElementById('annualLeaveInfo').textContent = params.annualLeave + 'å¤©';
            document.getElementById('paidSickLeaveInfo').textContent = params.paidSickLeave + 'å¤©';
            document.getElementById('publicHolidaysInfo').textContent = params.publicHolidays + 'å¤©';
            
            // æ›´æ–°å·¥ä½œç¯å¢ƒä¿¡æ¯
            document.getElementById('workEnvironmentInfo').textContent = getWorkEnvironmentText(params.workEnvironment);
            document.getElementById('leadershipInfo').textContent = getLeadershipText(params.leadership);
            document.getElementById('teamworkInfo').textContent = getTeamworkText(params.teamwork);
            document.getElementById('shuttleInfo').innerHTML = params.hasShuttle ? 
                `<span class="text-green-600">âœ“ ${getShuttleText(params.shuttle, true)}</span>` : 'æ— ç­è½¦';
            document.getElementById('canteenInfo').innerHTML = params.hasCanteen ? 
                `<span class="text-green-600">âœ“ ${getCanteenText(params.canteen, true)}</span>` : 'æ— é£Ÿå ‚';
            
            // æ›´æ–°æ•™è‚²ä¿¡æ¯
            document.getElementById('degreeTypeInfo').textContent = getDegreeText(params.degreeType);
            document.getElementById('schoolTypeInfo').textContent = getSchoolText(params.schoolType);
            document.getElementById('workYearsInfo2').textContent = getWorkYearsText(params.workYears);
            document.getElementById('jobStabilityInfo2').textContent = getJobStabilityText(params.jobStability);
            
            // æ›´æ–°è–ªèµ„ä¿¡æ¯
            document.getElementById('dailySalaryInfo').textContent = params.currencySymbol + Math.round(parseFloat(params.dailySalary)) + '/å¤©';
            document.getElementById('workDaysInfo').textContent = Math.round(parseFloat(params.workDaysPerYear)) + 'å¤©';
            
            // æ›´æ–°å·¥ä½œæ€§ä»·æ¯”è¯„ä¼°åŒºåŸŸ
            document.getElementById('finalScoreNumber').textContent = params.value;
            document.getElementById('finalScoreNumber').className = `score-number ${scoreClass}`;
            document.getElementById('finalScoreText').textContent = assessmentText;
            document.getElementById('finalScoreText').className = `score-text ${scoreClass}`;
            
            // ç”Ÿæˆå¹¶æ›´æ–°åˆ†ææ–‡æœ¬
            const analyses = generateAnalysisTexts(params);
            document.getElementById('basicAdvantagesText').textContent = analyses.basicAdvantages;
            document.getElementById('timeAnalysisText').textContent = analyses.timeAnalysis;
            document.getElementById('environmentAnalysisText').textContent = analyses.envAnalysis;
            document.getElementById('educationAnalysisText').textContent = analyses.eduAnalysis;
            document.getElementById('salaryAnalysisText').textContent = analyses.salaryAnalysis;
            document.getElementById('scoreProblemsText').textContent = analyses.problems;
            document.getElementById('scoreImprovementsText').textContent = analyses.improvements;
            document.getElementById('scoreAdvantagesText').textContent = analyses.scoreAdvantages;
            
            // ç”Ÿæˆå¹¶æ›´æ–°ä¸ªæ€§åŒ–å»ºè®®
            const suggestions = generatePersonalizedSuggestions(params);
            document.getElementById('shortTermGoals').innerHTML = suggestions.shortTerm.join('<br>');
            document.getElementById('mediumTermGoals').innerHTML = suggestions.mediumTerm.join('<br>');
            document.getElementById('longTermGoals').innerHTML = suggestions.longTerm.join('<br>');
        }

        // ä¸‹è½½æŠ¥å‘Š
        function downloadReport() {
            const params = getUrlParams();
            const reportContent = generateTextReport(params);
            
            const blob = new Blob([reportContent], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `å·¥ä½œæ€§ä»·æ¯”æŠ¥å‘Š_${new Date().toISOString().split('T')[0]}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // åˆ†äº«æŠ¥å‘Š
        function shareReport() {
            const params = getUrlParams();
            const shareText = `æˆ‘çš„å·¥ä½œæ€§ä»·æ¯”è¯„ä¼°ç»“æœï¼š${params.value}åˆ†ï¼Œå¹´å·¥ä½œ${Math.round(parseFloat(params.workDaysPerYear))}å¤©ï¼Œå¹³å‡æ—¥è–ª${params.currencySymbol}${Math.round(parseFloat(params.dailySalary))}ã€‚å¿«æ¥æµ‹è¯•ä½ çš„å·¥ä½œå€¼å¾—åº¦å§ï¼`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'å·¥ä½œæ€§ä»·æ¯”è¯„ä¼°ç»“æœ',
                    text: shareText,
                    url: window.location.href
                }).catch(console.error);
            } else if (navigator.clipboard) {
                navigator.clipboard.writeText(shareText + ' ' + window.location.href).then(() => {
                    alert('åˆ†äº«é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
                }).catch(() => {
                    alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶é“¾æ¥');
                });
            } else {
                alert('è¯·æ‰‹åŠ¨å¤åˆ¶é“¾æ¥è¿›è¡Œåˆ†äº«');
            }
        }

        // ç”Ÿæˆæ–‡æœ¬æŠ¥å‘Š
        function generateTextReport(params) {
            const analyses = generateAnalysisTexts(params);
            const suggestions = generatePersonalizedSuggestions(params);
            
            return `è–ªèµ„å€¼å¾—åº¦è¯„ä¼°æŠ¥å‘Š
==================

ğŸ“Š åŸºæœ¬ä¿¡æ¯
- å·¥ä½œæ€§ä»·æ¯”åˆ†æ•°ï¼š${params.value} (${getAssessmentText(params.assessment)})
- å¹³å‡æ—¥è–ªï¼š${params.currencySymbol}${Math.round(parseFloat(params.dailySalary))}
- å¹´å·¥ä½œå¤©æ•°ï¼š${Math.round(parseFloat(params.workDaysPerYear))}å¤©
- å·¥ä½œåœ°åŒºï¼š${getCityText(params.cityFactor)} (${params.countryName})

â±ï¸ å·¥ä½œæ—¶é—´
- æ¯æ—¥å·¥æ—¶ï¼š${params.workHours}å°æ—¶
- é€šå‹¤æ—¶é—´ï¼š${params.commuteHours}å°æ—¶  
- ä¼‘æ¯æ—¶é—´ï¼š${params.restTime}å°æ—¶
- æ¯å‘¨å·¥ä½œï¼š${params.workDaysPerWeek}å¤©
- è¿œç¨‹åŠå…¬ï¼š${params.wfhDaysPerWeek}/${params.workDaysPerWeek}å¤©
- å¹´å‡ï¼š${params.annualLeave}å¤©
- ç—…å‡ï¼š${params.paidSickLeave}å¤©
- æ³•å®šå‡æ—¥ï¼š${params.publicHolidays}å¤©

ğŸ¢ å·¥ä½œç¯å¢ƒ
- åŠå…¬ç¯å¢ƒï¼š${getWorkEnvironmentText(params.workEnvironment)}
- é¢†å¯¼å…³ç³»ï¼š${getLeadershipText(params.leadership)}
- åŒäº‹å…³ç³»ï¼š${getTeamworkText(params.teamwork)}
- æ˜¯å¦å®¶ä¹¡ï¼š${params.homeTown === 'yes' ? 'æ˜¯' : 'å¦'}
- ç­è½¦æœåŠ¡ï¼š${getShuttleText(params.shuttle, params.hasShuttle)}
- é£Ÿå ‚æƒ…å†µï¼š${getCanteenText(params.canteen, params.hasCanteen)}

ğŸ“š æ•™è‚²èƒŒæ™¯
- å­¦å†ï¼š${getDegreeText(params.degreeType)}
- å­¦æ ¡ï¼š${getSchoolText(params.schoolType)}
- å·¥ä½œå¹´é™ï¼š${getWorkYearsText(params.workYears)}
- å·¥ä½œæ€§è´¨ï¼š${getJobStabilityText(params.jobStability)}

ğŸ’¡ ç»¼åˆè¯„ä»·
${analyses.problems}

ğŸ“‹ æ”¹å–„å»ºè®®
${analyses.improvements}

ğŸ¯ ä¸ªæ€§åŒ–å‘å±•å»ºè®®
çŸ­æœŸç›®æ ‡ï¼š
${suggestions.shortTerm.map(s => s.replace('â€¢ ', '')).join('\n')}

ä¸­æœŸè§„åˆ’ï¼š
${suggestions.mediumTerm.map(s => s.replace('â€¢ ', '')).join('\n')}

é•¿æœŸæ„¿æ™¯ï¼š
${suggestions.longTerm.map(s => s.replace('â€¢ ', '')).join('\n')}

ç”Ÿæˆæ—¶é—´ï¼š${new Date().toLocaleString('zh-CN')}
å®˜ç½‘ï¼šworthjob.zippland.com`;
        }

        // é¡µé¢åŠ è½½æ—¶åº”ç”¨URLå‚æ•°
        document.addEventListener('DOMContentLoaded', function() {
            const params = getUrlParams();
            updatePageContent(params);
            
            // åˆå§‹åŒ–é¡µé¢åŠ¨ç”»
            document.querySelectorAll('.animate-fade-in').forEach(el => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(20px)';
            });
            
            // æ·»åŠ é¡µé¢åŠ¨ç”»
            const cards = document.querySelectorAll('.animate-fade-in');
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });
    </script>
</body>
</html>